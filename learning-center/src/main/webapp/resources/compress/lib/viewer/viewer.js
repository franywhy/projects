!function(i){"function"==typeof define&&define.amd?define("viewer",["jquery"],i):"object"==typeof exports?i(require("jquery")):i(jQuery)}(function(b){"use strict";var e=b(window),s=b(document),a="viewer",i=document.createElement(a),r="viewer-fixed",n="viewer-open",d="viewer-show",l="viewer-hide",c="viewer-fade",u="viewer-in",m="viewer-active",v="viewer-invisible",f="viewer-transition",o="viewer-fullscreen-exit",g="img",h="mousedown touchstart pointerdown MSPointerDown",w="mousemove touchmove pointermove MSPointerMove",p="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",y="wheel mousewheel DOMMouseScroll",x="transitionend",$="load."+a,C="keydown."+a,F="click."+a,z="resize."+a,Y="build."+a,k="built."+a,I="show."+a,X="shown."+a,T="hide."+a,t="hidden."+a,P="view."+a,V="viewed."+a,E=void 0!==i.style.transition,S=Math.round,D=Math.sqrt,L=Math.abs,q=Math.min,R=Math.max,M=Number;function W(i){return"string"==typeof i}function A(i){return"number"==typeof i&&!isNaN(i)}function _(i){return void 0===i}function j(i,t){var e=[];return A(t)&&e.push(t),e.slice.apply(i,e)}function B(i,t){var e=j(arguments,2);return function(){return i.apply(t,e.concat(j(arguments)))}}function H(i){return i.offsetWidth}function U(i,t){var e;if(i.naturalWidth)return t(i.naturalWidth,i.naturalHeight);(e=document.createElement("img")).onload=function(){t(this.width,this.height)},e.src=i.src}function N(i){switch(i){case 2:return"viewer-hide-xs-down";case 3:return"viewer-hide-sm-down";case 4:return"viewer-hide-md-down"}}function O(i,t){this.$element=b(i),this.options=b.extend({},O.DEFAULTS,b.isPlainObject(t)&&t),this.isImg=!1,this.isBuilt=!1,this.isShown=!1,this.isViewed=!1,this.isFulled=!1,this.isPlayed=!1,this.wheeling=!1,this.playing=!1,this.fading=!1,this.tooltiping=!1,this.transitioning=!1,this.action=!1,this.target=!1,this.timeout=!1,this.index=0,this.length=0,this.init()}O.prototype={constructor:O,init:function(){var i=this.options,t=this.$element,e=t.is(g),s=e?t:t.find(g),n=s.length,o=b.proxy(this.ready,this);n&&(b.isFunction(i.build)&&t.one(Y,i.build),this.trigger(Y).isDefaultPrevented()||(E||(i.transition=!1),this.isImg=e,this.length=n,this.count=0,this.$images=s,this.$body=b("body"),i.inline?(t.one(k,b.proxy(function(){this.view()},this)),s.each(function(){this.complete?o():b(this).one($,o)})):t.on(F,b.proxy(this.start,this))))},ready:function(){this.count++,this.count===this.length&&this.build()},build:function(){var i,t,e,s,n,o,a=this.options,h=this.$element;this.isBuilt||(this.$parent=i=h.parent(),this.$viewer=t=b(O.TEMPLATE),this.$canvas=t.find(".viewer-canvas"),this.$footer=t.find(".viewer-footer"),this.$title=e=t.find(".viewer-title"),this.$toolbar=s=t.find(".viewer-toolbar"),this.$navbar=n=t.find(".viewer-navbar"),this.$button=o=t.find(".viewer-button"),this.$tooltip=t.find(".viewer-tooltip"),this.$player=t.find(".viewer-player"),this.$list=t.find(".viewer-list"),e.addClass(a.title?N(a.title):l),s.addClass(a.toolbar?N(a.toolbar):l),s.find("li[class*=zoom]").toggleClass(v,!a.zoomable),s.find("li[class*=flip]").toggleClass(v,!a.scalable),a.rotatable||s.find("li[class*=rotate]").addClass(v).appendTo(s),n.addClass(a.navbar?N(a.navbar):l),o.toggleClass(l,!a.button),a.inline?(o.addClass("viewer-fullscreen"),t.css("z-index",a.zIndexInline),"static"===i.css("position")&&i.css("position","relative")):(o.addClass("viewer-close"),t.css("z-index",a.zIndex).addClass([r,c,l].join(" "))),h.after(t),a.inline&&(this.render(),this.bind(),this.isShown=!0),this.isBuilt=!0,b.isFunction(a.built)&&h.one(k,a.built),this.trigger(k))},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.$viewer.remove())},bind:function(){var i=this.options,t=this.$element;b.isFunction(i.view)&&t.on(P,i.view),b.isFunction(i.viewed)&&t.on(V,i.viewed),this.$viewer.on(F,b.proxy(this.click,this)).on(y,b.proxy(this.wheel,this)),this.$canvas.on(h,b.proxy(this.mousedown,this)),s.on(w,this._mousemove=B(this.mousemove,this)).on(p,this._mouseup=B(this.mouseup,this)).on(C,this._keydown=B(this.keydown,this)),e.on(z,this._resize=B(this.resize,this))},unbind:function(){var i=this.options,t=this.$element;b.isFunction(i.view)&&t.off(P,i.view),b.isFunction(i.viewed)&&t.off(V,i.viewed),this.$viewer.off(F,this.click).off(y,this.wheel),this.$canvas.off(h,this.mousedown),s.off(w,this._mousemove).off(p,this._mouseup).off(C,this._keydown),e.off(z,this._resize)},render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.container={width:e.innerWidth(),height:e.innerHeight()}},initViewer:function(){var i,t=this.options,e=this.$parent;t.inline&&(this.parent=i={width:R(e.width(),t.minWidth),height:R(e.height(),t.minHeight)}),!this.isFulled&&i||(i=this.container),this.viewer=b.extend({},i)},renderViewer:function(){this.options.inline&&!this.isFulled&&this.$viewer.css(this.viewer)},initList:function(){var o=this.options,i=this.$element,t=this.$list,a=[];this.$images.each(function(i){var t,e=this.src,s=this.alt||(W(t=e)?t.replace(/^.*\//,"").replace(/[\?&#].*$/,""):""),n=o.url;e&&(W(n)?n=this.getAttribute(n):b.isFunction(n)&&(n=n.call(this,this)),a.push('<li><img src="'+e+'" data-action="view" data-index="'+i+'" data-original-url="'+(n||e)+'" alt="'+s+'"></li>'))}),t.html(a.join("")).find(g).one($,{filled:!0},b.proxy(this.loadImage,this)),this.$items=t.children(),o.transition&&i.one(V,function(){t.addClass(f)})},renderList:function(i){var t=i||this.index,e=this.$items.eq(t).width(),s=e+1;this.$list.css({width:s*this.length,marginLeft:(this.viewer.width-e)/2-s*t})},resetList:function(){this.$list.empty().removeClass(f).css("margin-left",0)},initImage:function(h){var r=this.options,i=this.$image,t=this.viewer,e=this.$footer.height(),l=t.width,d=R(t.height-e,e),c=this.image||{};U(i[0],b.proxy(function(i,t){var e,s,n=i/t,o=l,a=d;l<d*n?a=l/n:o=d*n,s={naturalWidth:i,naturalHeight:t,aspectRatio:n,ratio:(o=q(.9*o,i))/i,width:o,height:a=q(.9*a,t),left:(l-o)/2,top:(d-a)/2},e=b.extend({},s),r.rotatable&&(s.rotate=c.rotate||0,e.rotate=0),r.scalable&&(s.scaleX=c.scaleX||1,s.scaleY=c.scaleY||1,e.scaleX=1,e.scaleY=1),this.image=s,this.initialImage=e,b.isFunction(h)&&h()},this))},renderImage:function(i){var t,e,s,n,o,a=this.image,h=this.$image;h.css({width:a.width,height:a.height,marginLeft:a.left,marginTop:a.top,transform:(t=a,e=[],s=t.rotate,n=t.scaleX,o=t.scaleY,A(s)&&e.push("rotate("+s+"deg)"),A(n)&&A(o)&&e.push("scale("+n+","+o+")"),e.length?e.join(" "):"none")}),b.isFunction(i)&&(this.transitioning?h.one(x,i):i())},resetImage:function(){this.$image&&(this.$image.remove(),this.$image=null)},start:function(i){var t=i.target;b(t).is("img")&&(this.target=t,this.show())},click:function(i){var t=b(i.target),e=t.data("action"),s=this.image;switch(e){case"mix":this.isPlayed?this.stop():this.options.inline?this.isFulled?this.exit():this.full():this.hide();break;case"view":this.view(t.data("index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev();break;case"play":this.play();break;case"next":this.next();break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-s.scaleX||-1);break;case"flip-vertical":this.scaleY(-s.scaleY||-1);break;default:this.isPlayed&&this.stop()}},load:function(){var i=this.options,t=this.viewer,e=this.$image;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),e.removeClass(v).css("cssText","width:0;height:0;margin-left:"+t.width/2+"px;margin-top:"+t.height/2+"px;max-width:none!important;visibility:visible;"),this.initImage(b.proxy(function(){e.toggleClass(f,i.transition).toggleClass("viewer-move",i.movable),this.renderImage(b.proxy(function(){this.isViewed=!0,this.trigger(V)},this))},this))},loadImage:function(i){var t=i.target,o=b(t),e=o.parent(),a=e.width(),h=e.height(),r=i.data&&i.data.filled;U(t,function(i,t){var e=i/t,s=a,n=h;a<h*e?r?s=h*e:n=a/e:r?n=a/e:s=h*e,o.css({width:s,height:n,marginLeft:(a-s)/2,marginTop:(h-n)/2})})},resize:function(){this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.isViewed&&this.initImage(b.proxy(function(){this.renderImage()},this)),this.isPlayed&&this.$player.find(g).one($,b.proxy(this.loadImage,this)).trigger($)},wheel:function(i){var t=i.originalEvent||i,e=M(this.options.zoomRatio)||.1,s=1;this.isViewed&&(i.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(b.proxy(function(){this.wheeling=!1},this),50),t.deltaY?s=0<t.deltaY?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=0<t.detail?1:-1),this.zoom(-s*e,!0,i)))},keydown:function(i){var t=this.options,e=i.which;if(this.isFulled&&t.keyboard)switch(e){case 27:this.isPlayed?this.stop():t.inline?this.isFulled&&this.exit():this.hide();break;case 32:this.isPlayed&&this.stop();break;case 37:this.prev();break;case 38:i.preventDefault(),this.zoom(t.zoomRatio,!0);break;case 39:this.next();break;case 40:i.preventDefault(),this.zoom(-t.zoomRatio,!0);break;case 48:case 49:(i.ctrlKey||i.shiftKey)&&(i.preventDefault(),this.toggle())}},mousedown:function(i){var t,e=this.options,s=i.originalEvent,n=s&&s.touches,o=i,a=!!e.movable&&"move";if(this.isViewed){if(n){if(1<(t=n.length)){if(!e.zoomable||2!==t)return;o=n[1],this.startX2=o.pageX,this.startY2=o.pageY,a="zoom"}else this.isSwitchable()&&(a="switch");o=n[0]}a&&(i.preventDefault(),this.action=a,this.startX=o.pageX||s&&s.pageX,this.startY=o.pageY||s&&s.pageY)}},mousemove:function(i){var t,e=this.options,s=this.action,n=this.$image,o=i.originalEvent,a=o&&o.touches,h=i;if(this.isViewed){if(a){if(1<(t=a.length)){if(!e.zoomable||2!==t)return;h=a[1],this.endX2=h.pageX,this.endY2=h.pageY}h=a[0]}s&&(i.preventDefault(),"move"===s&&e.transition&&n.hasClass(f)&&n.removeClass(f),this.endX=h.pageX||o&&o.pageX,this.endY=h.pageY||o&&o.pageY,this.change(i))}},mouseup:function(i){var t=this.action;t&&(i.preventDefault(),"move"===t&&this.options.transition&&this.$image.addClass(f),this.action=!1)},show:function(){var i,t=this.options;t.inline||this.transitioning||(this.isBuilt||this.build(),b.isFunction(t.show)&&this.$element.one(I,t.show),this.trigger(I).isDefaultPrevented()||(this.$body.addClass(n),i=this.$viewer.removeClass(l),this.$element.one(X,b.proxy(function(){this.view(this.target?this.$images.index(this.target):this.index),this.target=!1},this)),t.transition?(this.transitioning=!0,i.addClass(f),H(i[0]),i.one(x,b.proxy(this.shown,this)).addClass(u)):(i.addClass(u),this.shown())))},hide:function(){var i=this.options,t=this.$viewer;i.inline||this.transitioning||!this.isShown||(b.isFunction(i.hide)&&this.$element.one(T,i.hide),this.trigger(T).isDefaultPrevented()||(this.isViewed&&i.transition?(this.transitioning=!0,this.$image.one(x,b.proxy(function(){t.one(x,b.proxy(this.hidden,this)).removeClass(u)},this)),this.zoomTo(0,!1,!1,!0)):(t.removeClass(u),this.hidden())))},view:function(i){var t,e,s,n,o,a=this.$title;i=Number(i)||0,!this.isShown||this.isPlayed||i<0||i>=this.length||this.isViewed&&i===this.index||this.trigger(P).isDefaultPrevented()||(n=(s=(e=this.$items.eq(i)).find(g)).data("originalUrl"),o=s.attr("alt"),this.$image=t=b('<img src="'+n+'" alt="'+o+'">'),this.isViewed&&this.$items.eq(this.index).removeClass(m),e.addClass(m),this.isViewed=!1,this.index=i,this.image=null,this.$canvas.html(t.addClass(v)),this.renderList(),a.empty(),this.$element.one(V,b.proxy(function(){var i=this.image,t=i.naturalWidth,e=i.naturalHeight;a.html(o+" ("+t+" &times; "+e+")")},this)),t[0].complete?this.load():(t.one($,b.proxy(this.load,this)),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(b.proxy(function(){t.removeClass(v),this.timeout=!1},this),1e3)))},prev:function(){this.view(R(this.index-1,0))},next:function(){this.view(q(this.index+1,this.length-1))},move:function(i,t){var e=this.image;this.moveTo(_(i)?i:e.left+M(i),_(t)?t:e.top+M(t))},moveTo:function(i,t){var e=this.image,s=!1;_(t)&&(t=i),i=M(i),t=M(t),this.isViewed&&!this.isPlayed&&this.options.movable&&(A(i)&&(e.left=i,s=!0),A(t)&&(e.top=t,s=!0),s&&this.renderImage())},zoom:function(i,t,e){var s=this.image;i=(i=M(i))<0?1/(1-i):1+i,this.zoomTo(s.width*i/s.naturalWidth,t,e)},zoomTo:function(i,t,e,s){var n,o,a,h,r,l,d,c,u,m=this.options,v=.01,f=100,g=this.image,w=g.width,p=g.height;A(i=R(0,i))&&this.isViewed&&!this.isPlayed&&(s||m.zoomable)&&(s||(v=R(v,m.minZoomRatio),f=q(f,m.maxZoomRatio),i=q(R(i,v),f)),.95<i&&i<1.05&&(i=1),o=g.naturalWidth*i,a=g.naturalHeight*i,e&&(n=e.originalEvent)?(h=this.$viewer.offset(),r=n.touches?(l=n.touches,d=l.length,u=c=0,d&&(b.each(l,function(i,t){c+=t.pageX,u+=t.pageY}),c/=d,u/=d),{pageX:c,pageY:u}):{pageX:e.pageX||n.pageX||0,pageY:e.pageY||n.pageY||0},g.left-=(o-w)*((r.pageX-h.left-g.left)/w),g.top-=(a-p)*((r.pageY-h.top-g.top)/p)):(g.left-=(o-w)/2,g.top-=(a-p)/2),g.width=o,g.height=a,g.ratio=i,this.renderImage(),t&&this.tooltip())},rotate:function(i){this.rotateTo((this.image.rotate||0)+M(i))},rotateTo:function(i){var t=this.image;A(i=M(i))&&this.isViewed&&!this.isPlayed&&this.options.rotatable&&(t.rotate=i,this.renderImage())},scale:function(i,t){var e=this.image,s=!1;_(t)&&(t=i),i=M(i),t=M(t),this.isViewed&&!this.isPlayed&&this.options.scalable&&(A(i)&&(e.scaleX=i,s=!0),A(t)&&(e.scaleY=t,s=!0),s&&this.renderImage())},scaleX:function(i){this.scale(i,this.image.scaleY)},scaleY:function(i){this.scale(this.image.scaleX,i)},play:function(){var i,n=this.options,o=this.$player,a=b.proxy(this.loadImage,this),h=[],r=0,l=0;this.isShown&&!this.isPlayed&&(n.fullscreen&&this.requestFullscreen(),this.isPlayed=!0,o.addClass(d),this.$items.each(function(i){var t=b(this),e=t.find(g),s=b('<img src="'+e.data("originalUrl")+'" alt="'+e.attr("alt")+'">');r++,s.addClass(c).toggleClass(f,n.transition),t.hasClass(m)&&(s.addClass(u),l=i),h.push(s),s.one($,{filled:!1},a),o.append(s)}),A(n.interval)&&0<n.interval&&(i=b.proxy(function(){this.playing=setTimeout(function(){h[l].removeClass(u),h[l=++l<r?l:0].addClass(u),i()},n.interval)},this),1<r&&i()))},stop:function(){this.isPlayed&&(this.options.fullscreen&&this.exitFullscreen(),this.isPlayed=!1,clearTimeout(this.playing),this.$player.removeClass(d).empty())},full:function(){var i=this.options,t=this.$image,e=this.$list;this.isShown&&!this.isPlayed&&!this.isFulled&&i.inline&&(this.isFulled=!0,this.$body.addClass(n),this.$button.addClass(o),i.transition&&(t.removeClass(f),e.removeClass(f)),this.$viewer.addClass(r).removeAttr("style").css("z-index",i.zIndex),this.initContainer(),this.viewer=b.extend({},this.container),this.renderList(),this.initImage(b.proxy(function(){this.renderImage(function(){i.transition&&setTimeout(function(){t.addClass(f),e.addClass(f)},0)})},this)))},exit:function(){var i=this.options,t=this.$image,e=this.$list;this.isFulled&&(this.isFulled=!1,this.$body.removeClass(n),this.$button.removeClass(o),i.transition&&(t.removeClass(f),e.removeClass(f)),this.$viewer.removeClass(r).css("z-index",i.zIndexInline),this.viewer=b.extend({},this.parent),this.renderViewer(),this.renderList(),this.initImage(b.proxy(function(){this.renderImage(function(){i.transition&&setTimeout(function(){t.addClass(f),e.addClass(f)},0)})},this)))},tooltip:function(){var i=this.options,t=this.$tooltip,e=this.image,s=[d,c,f].join(" ");this.isViewed&&!this.isPlayed&&i.tooltip&&(t.text(S(100*e.ratio)+"%"),this.tooltiping?clearTimeout(this.tooltiping):i.transition?(this.fading&&t.trigger(x),t.addClass(s),H(t[0]),t.addClass(u)):t.addClass(d),this.tooltiping=setTimeout(b.proxy(function(){i.transition?(t.one(x,b.proxy(function(){t.removeClass(s),this.fading=!1},this)).removeClass(u),this.fading=!0):t.removeClass(d),this.tooltiping=!1},this),1e3))},toggle:function(){1===this.image.ratio?this.zoomTo(this.initialImage.ratio,!0):this.zoomTo(1,!0)},reset:function(){this.isViewed&&!this.isPlayed&&(this.image=b.extend({},this.initialImage),this.renderImage())},update:function(){var i,t=this.$element,s=this.$images,n=[];if(this.isImg){if(!t.parent().length)return this.destroy()}else this.$images=s=t.find(g),this.length=s.length;this.isBuilt&&(b.each(this.$items,function(i){var t=b(this).find("img")[0],e=s[i];e?e.src!==t.src&&n.push(i):n.push(i)}),this.$list.width("auto"),this.initList(),this.isShown&&(this.length?this.isViewed&&(0<=(i=b.inArray(this.index,n))?(this.isViewed=!1,this.view(R(this.index-(i+1),0))):this.$items.eq(this.index).addClass(m)):(this.$image=null,this.isViewed=!1,this.index=0,this.image=null,this.$canvas.empty(),this.$title.empty())))},destroy:function(){var i=this.$element;this.options.inline?this.unbind():(this.isShown&&this.unbind(),i.off(F,this.start)),this.unbuild(),i.removeData(a)},trigger:function(i,t){var e=b.Event(i,t);return this.$element.trigger(e),e},shown:function(){var i=this.options;this.transitioning=!1,this.isFulled=!0,this.isShown=!0,this.isVisible=!0,this.render(),this.bind(),b.isFunction(i.shown)&&this.$element.one(X,i.shown),this.trigger(X)},hidden:function(){var i=this.options;this.transitioning=!1,this.isViewed=!1,this.isFulled=!1,this.isShown=!1,this.isVisible=!1,this.unbind(),this.$body.removeClass(n),this.$viewer.addClass(l),this.resetList(),this.resetImage(),b.isFunction(i.hidden)&&this.$element.one(t,i.hidden),this.trigger(t)},requestFullscreen:function(){var i=document.documentElement;!this.isFulled||document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},exitFullscreen:function(){this.isFulled&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},change:function(i){var t,e,s,n,o,a=this.endX-this.startX,h=this.endY-this.startY;switch(this.action){case"move":this.move(a,h);break;case"zoom":this.zoom((t=L(this.startX-this.startX2),e=L(this.startY-this.startY2),s=L(this.endX-this.endX2),n=L(this.endY-this.endY2),o=D(t*t+e*e),(D(s*s+n*n)-o)/o),!1,i),this.startX2=this.endX2,this.startY2=this.endY2;break;case"switch":this.action="switched",L(a)>L(h)&&(1<a?this.prev():a<-1&&this.next())}this.startX=this.endX,this.startY=this.endY},isSwitchable:function(){var i=this.image,t=this.viewer;return 0<=i.left&&0<=i.top&&i.width<=t.width&&i.height<=t.height}},O.DEFAULTS={inline:!1,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,interval:5e3,minWidth:200,minHeight:100,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,zIndex:2015,zIndexInline:0,url:"src",build:null,built:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null},O.setDefaults=function(i){b.extend(O.DEFAULTS,i)},O.TEMPLATE='<div class="viewer-container"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><ul class="viewer-toolbar"><li class="viewer-zoom-in" data-action="zoom-in"></li><li class="viewer-zoom-out" data-action="zoom-out"></li><li class="viewer-one-to-one" data-action="one-to-one"></li><li class="viewer-reset" data-action="reset"></li><li class="viewer-prev" data-action="prev"></li><li class="viewer-play" data-action="play"></li><li class="viewer-next" data-action="next"></li><li class="viewer-rotate-left" data-action="rotate-left"></li><li class="viewer-rotate-right" data-action="rotate-right"></li><li class="viewer-flip-horizontal" data-action="flip-horizontal"></li><li class="viewer-flip-vertical" data-action="flip-vertical"></li></ul><div class="viewer-navbar"><ul class="viewer-list"></ul></div></div><div class="viewer-tooltip"></div><div class="viewer-button" data-action="mix"></div><div class="viewer-player"></div></div>',O.other=b.fn.viewer,b.fn.viewer=function(s){var n,o=j(arguments,1);return this.each(function(){var i,t=b(this),e=t.data(a);if(!e){if(/destroy|hide|exit|stop|reset/.test(s))return;t.data(a,e=new O(this,s))}W(s)&&b.isFunction(i=e[s])&&(n=i.apply(e,o))}),_(n)?this:n},b.fn.viewer.Constructor=O,b.fn.viewer.setDefaults=O.setDefaults,b.fn.viewer.noConflict=function(){return b.fn.viewer=O.other,this}});